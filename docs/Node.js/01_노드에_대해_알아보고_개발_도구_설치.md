# 01 노드에 대해 알아보고 개발 도구 설치하기

## 01-1 노드란 무엇일까?

노드(Node.js)는 자바스크립트를 이용해서 서버를 만들 수 있는 개발 도구입니다. 

<br>

> 웹 서비스와 같은 서버 기능을 만들 수 있는 언어나 도구들은 이미 많은데 
> 노드(Node.js)라는 새로운 개발 도구는 왜 또 만든 것일까?

노드라는 개발 도구를 새로 만들게 된 이유는 의외로 아주 단순합니다. 노드는 2009년에 라이언 달(Ryan Dahl)이 만들었는데 그 당시에는 웹 서버에 파일을 업로드할 때, 업로드가 완료되기 전까지 웹 서버에서 데이터를 조회한다거나 하는 등의 다른 작업을 할 수 없었습니다. 이 문제를 해결하기 위해 새로운 방식의 서버 개발 도구를 만들기 시작했는데 그것이 노드입니다. 

웹 브라우저를 통해 내 PC에 있는 문서 파일 하나를 업로드하고 싶다면 먼저 웹 서버에 업로드를 요청해야 합니다. 이때 웹 서버에는 파일 업로드 기능을 담당하는 **핸들러(Handler)**를 하나 만들어 둡니다. 그런데 파일의 크기가 크다면 파일을 업로드하는 데 1분 또는 그 이상의 시간이 걸릴 수 있습니다. 파일 업로드를 완료하기 전에는 서버에 있는 다른 파일의 정보를 확인하거나 파일 업로드가 어떻게 진행되고 있는지 요청하는 것이 불가능해서 업로드가 완료될 때까지 대기해야 합니다. 지금은 이런 문제를 해결할 수 있는 여러 가지 방법이 나와 있어 큰 문제가 되지 않습니다. 하지만 그 당시에는 웹 서버의 파일 업로드 핸들러가 하나의 요청이 끝날 때까지 다른 요청을 대기시켜 응답 시간이 길어지거나, 서버에서 처리해야 하는 요청의 수가 증가하면 CPU나 메모리 사용량도 크게 증가하는 문제가 많이 발생했습니다. 

<br>

### 노드의 비동기 입출력 방식

이런 문제를 해결하기 위해 만든 게 노드입니다. 즉, 하나의 요청 처리가 끝날 때까지 기다리지 않고 다른 요청을 동시에 처리할 수 있는 **비동기 입출력(논블로킹 입출력, Non-Blocking IO)** 방식을 적용했습니다. 

비동기 입출력 방식이 노드의 대표적인 특징입니다. 비동기 입출력 방식을 이해하려면 반대되는 의미의 **동기 입출력(블로킹, Blocking IO)** 방식으로 파일을 읽는 과정을 먼저 알아야 합니다. 

PC에 있는 파일의 내용을 읽어오는 동기 입출력 방식의 프로그램을 만들었다면 그 프로그램은 먼저 파일 시스템에 읽기 요청을 합니다. 이때 파일 시스템에서는 디스크에 있는 파일을 확인하고 준비한 다음 처리하는 시간이 필요한데 그 동안 프로그램은 다른 작업을 진행하지 않고 대기하게 됩니다. 프로그램이 아무 동작을 하지 않고 기다리는 거죠. 프로그램이 파일의 내용을 읽어와 그 내용을 화면에 보여 준 다음에야 다른 작업을 진행할 수 있습니다. 결국 프로그램을 실행하는 중간중간 대기 시간이 발생하면서 속도가 느려지는 문제가 생기는 것입니다. 그런데 이것을 비동기 방식으로 바꾸면 파일을 읽어 들일 때 대기하는 시간이 없어집니다. 

파일을 '비동기 방식으로 읽는다'는 것은 파일 시스템에 읽기 요청을 한 후에 프로그램이 대기하지 않고 다른 작업을 진행한다는 것을 의미합니다. 그러면 어떻게 프로그램에서 다른 작업을 진행하는 중간에 파일 시스템에서 파일 처리를 할 수 있는 걸까요? 프로그램에서는 파일을 위한 작업을 언제 다시 시작할 수 있을까요? 프로그램에서 해당 파일의 내용을 처리할 수 있는 시점이 되면 **콜백 함수(Callback Function)**가 호출됩니다. 프로그램에서는 파일 읽기 요청을 하기 전에 콜백 함수를 등록하는데, 파일 시스템은 파일 처리가 끝나면 자동으로 콜백 함수를 호출합니다. 따라서 프로그램이 파일 읽기 작업이 끝날 때까지 대기하지 않아도 파일을 다 읽은 시점에 통보를 받고 파일의 내용을 화면에 보여 주는 작업을 진행할 수 있습니다. 






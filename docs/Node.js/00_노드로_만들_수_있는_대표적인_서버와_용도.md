# 00 노드로 만들 수 있는 대표적인 서버와 용도

## 00-1 서버는 왜 필요할까?

최근에 안드로이드(Android)나 아이오에스(iOS) 기반의 모바일 앱을 만드는 개발자는 서버에 대한 지식이 전혀 없는 상태로 웹 서버나 채팅 서버를 만들기도 합니다. 이런 경우라도 책 내용대로 서버를 만들다 보면 필요했던 서버 기능을 대부분 문제 없이 만들 수 있을 것입니다. 그렇다면 노드가 무엇인지 배우기 전에 서버가 무엇이며, 어떤 종류의 서버가 있는지 알고 있어야겠죠? 먼저 서버에 대해 간단히 알아본 후 서버의 기능을 하나씩 설명하겠습니다. 

우리는 PC나 스마트폰에서 여러 가지 프로그램(Program)을 사용합니다. 이 프로그램을 **애플리케이션(Application)**이라고 부르며, 스마트폰에서는 **앱(App)**이라고도 부릅니다. PC에서 동작하는 프로그램 중 대포적인 것이 파워포인트, 워드, 엑셀과 같은 문서 프로그램인데 이런 프로그램은 사용법만 익혀도 충분합니다. 하지만 PC나 스마트폰에서 동작하는 프로그램을 직접 만들어보고 싶다면 **API(Application Programming Interface)**를 알아야 합니다. 

API란 프로그램을 쉽게 제작할 수 있게 미리 만들어 놓은 것들의 모음이라고 할 수 있습니다. 예를 들면, 윈도우(Windows)라는 PC용 운영체제(OS)에서 동작하는 프로그램을 쉽게 만들 수 있도록 윈도우용 API가 제공됩니다. 윈도우용 API에는 PC 화면에 버튼처럼 보이는 것들을 미리 만들어 넣어두었기 때문에 간단한 코드 몇 줄로도 버튼을 만들 수 있습니다. 스마트폰의 경우에도 안드로이드 OS나 아이폰용 OS를 위한 API가 있습니다. 이렇게 우리는 운영체제의 API를 이용해서 하나의 단말 기기(Device)에서 동작하는 프로그램을 만들게 됩니다. 

요즘에는 인터넷을 이용해서 다른 장소에 있는 데이터를 가져와 보여주는 경우가 많습니다. 인터넷 익스플로러나 크롬 웹 브라우저를 열고 구글이나 네이버 같은 포털 사이트에 접속하는 것도 웹 브라우저라는 프로그램이 인터넷을 사용해서 웹 서버에 웹 문서를 달라고 요청할 수 있기 때문에 가능한 것입니다. 

여러분이 프로그램을 만들 때도 인터넷을 이용해서 다른 곳의 데이터를 가져와 보여주거나 다른 곳에서 보내온 데이터를 여러분의 컴퓨터에 저장하는 경우가 많이 생깁니다. 이렇게 다른 곳에 있는 단말에 데이터를 달라고 요청하는 프로그램을 **클라이언트(Client)**, 다른 곳에서 요청 받은 명령을 처리해 주는 프로그램을 **서버(Server)**라고 합니다. 

여러분이 만든 프로그램을 인터넷에 연결하기 위해서는 단말에 **네트워크 카드(Network Card 또는 Ethernet Card)**가 들어있어야 합니다. 요즘에는 유선 인터넷뿐만 아니라 무선 인터넷을 사용하는 경우가 많아서 단말에는 와이파이(WiFi)나 3G/LTE로 인터넷에 접속할 수 있는 네트워크 카드가 들어 있습니다. 두 개의 서로 다른 단말에 모두 네트워크 카드가 들어 있다면 한쪽은 클라이언트, 다른 한쪽은 서버 역할을 할 수 있습니다. 이때 서버는 포트(Port)를 지정하여 그 포트로 요청을 받을 수 있습니다. 하나의 단말에서 사용할 수 있는 포트는 보통 0~65535 중 하나를 지정해서 사용하는데 각 포트 영역은 다음과 같이 구분됩니다. 

<table>
    <thead>
    	<tr>
        	<th>포트 번호</th>
        	<th>설명</th>
        </tr>
    </thead>
    <tbody>
    	<tr>
        	<td>0번 ~ 1023번</td>
        	<td>잘 알려진 포트(Well-known port)</td>
        </tr>
        <tr>
        	<td>1024번 ~ 49151번</td>
        	<td>등록된 포트(Registered port)</td>
        </tr>
        <tr>
        	<td>49152번 ~ 65535번</td>
            <td>동적 포트(Dynamic port)</td>
        </tr>
    </tbody>
</table>

> **포트란? **
>
> 단말에 접속하기 위한 '논리적인 접속 위치'입니다. 즉, 인터넷을 사용할 때는 클라이언트 프로그램은 서버의 프로그램이 지정하는 포트로 접속하게 됩니다. 

윈도우나 안드로이드 같은 OS가 시작될 때는 이미 잘 알려진 포트(0~1023번)에서 대부분을 사용합니다. 따라서 여러번이 직접 만드는 서버 프로그램은 보통 1024번 이상의 포트 번호를 사용합니다. 

서버를 만들어 실행하면 지정된 포트에서 클라이언트로부터 요청을 받아 처리하게 됩니다. 또한 많은 경우에 서버는 데이터베이스에 연결할 수 있도록 구성되기 때문에 클라이언트에서 보내온 데이터를 저장하거나 저장된 데이터를 조회한 후 클라이언트에 보내 줍니다. 서버 중에서 여러분이 많이 사용하는 웹 브라우저에서 접속하는 서버를 **웹 서버**라고 하며, HTTP 프로토콜을 사용합니다. 

여기에서 **프로토콜(Protocol)**이란 데이터를 서로 어떤 형태로 주고받을 것인지를 정한 것으로, 간단하게 데이터의 형태라고 생각하면 이해하기 쉽습니다. 따라서 HTTP란 인터넷상에서 데이터를 어떻게 주고받으면 되는지를 정의해 둔 것이고 모든 웹 브라우저가 이 방식을 따른다고 할 수 있습니다. 웹 브라우저에서 HTTP로 요청한 데이터를 받은 웹 서버는 필요한 작업을 수행한 후 HTTP로 응답을 보냅니다. 웹 브라우저에서 볼 수 있는 웹 문서는 보통 HTML과 CSS, 그리고 자바스크립트를 이용해서 만들어 둔 것입니다. 웹 브라우저가 웹 서버로부터 데이터를 전달받으면 웹 브라우저 화면에 웹 문서를 띄우게 되는데, 이 웹 문서가 클라이언트 프로그램의 역할을 하게 됩니다. 따라서 한번 화면에 띄운 웹 문서는 필요할 때마다 웹 서버로 또 다른 웹 문서를 요청하여 받아옵니다. 

스마트폰과 같은 모바일 단말에서는 웹 문서를 웹 서버가 아닌 단말 내부에 저장해 두었다가 화면에 띄운 후 웹 서버로 필요한 데이터만 요청하는 방식을 사용하기도 합니다. 이때 **에이잭스(Ajax)** 방식으로 데이터만 받아오는 경우가 많습니다. 이렇게 하면 매번 웹 문서를 가져오지 않고 필요한 데이터만 가져온 후 화면을 부분적으로 갱신(Refresh)할 수 있기 때문에 화면 처리 속도가 빨라지는 장점이 생깁니다. 

> **에이잭스(Ajax)**
>
> 비동기식 자바스크립트 XML(Asynchronous Javascript And XML)의 약자로 웹 서버에서 웹 문서를 받아오는 것이 아니라 데이터만 받아오기 위한 방법과 기술을 말합니다. 

지금까지 클라이언트와 서버에 대해 간략하게 설명했습니다. 서버에 대해 조금이나마 이해를 했다면 인터넷 환경에서 가장 많이 사용하는 서버가 웹 브라우저에서 접속하는 웹 서버라는 것도 이해했을 것입니다. 

<br>

<hr>

## 00-2 대표적인 서버 유형은 어떤 것이 있을까?

서버의 유형은 굉장히 다양합니다. 따라서 만들려는 애플리케이션이 무엇인지에 따라 필요한 서버 유형이 달라집니다. 예를 들어, 카카오톡이나 라인처럼 실시간 채팅 앱을 만들고 싶다면 실시간 채팅 기능을 지원하는 채팅 서버가 있어야 합니다. 그리고 다양한 센서로부터 값을 전달받아 동작하는 **사물인터넷(IOT, Internet Of Things)** 기능을 만들고 싶다면 여러 센서들과 데이터를 주고받을 수 있는 서버가 있어야 합니다. 요즘에는 모바일 앱을 많이 만들기 때문에 스마트폰과 같은 모바일 단말에 필요한 기능을 제공하는 모바일 서버가 필요합니다. 

+ 클라이언트
  + 웹사이트 조회
  + 실시간 채팅
  + 근처 커피숍 찾기
  + 모바일 단말 관리
  + 데이터 요청
+ 서버
  + 채팅서버
  + 위치 기반 서비스 서버
  + 모바일 서버
  + JSON-RPC 서버
  + 웹 서버
    + 익스프레스
    + 몽고디비
    + 뷰 템플릿
    + 패스포트

<br>

서버의 유형은 크게 다섯 가지로 나뉘어 있습니다. 웹 서버는 모든 서버의 기본입니다. HTTP 프로토콜로 데이터를 주고받을 수 있는 웹 서버를 만들고 나면 그 위에 채팅 서버나 위치 기반 서비스 서버 등을 위한 기능을 추가해서 새로운 서버를 만들 수 있습니다. 

<br>


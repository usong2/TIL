# 리액트 컴포넌트

## 01. 컴포넌트를 표현하는 JSX

### JSX란?

+ 자바스크립트에 XML을 추가한 확장형 문법
+ 하나의 파일에 자바스크립트와 HTML을 동시에 작성 가능

### JSX 사용하기

```jsx
import React from 'react';

class App extends React.Component {
  render() {
    return (
      // 아래는 JSX 양식입니다
      <div>
        <img src="https://picsum.photos/200/300" />
        <div>안녕하세요</div>
      </div>
    );
  }
}
export default App;
```

+ render() 함수의 반환값을 보면 HTML과 거의 비슷하지만 XML 마크업 규칙을 따르므로 &lt;와 /의 짝이 맞지 않으면 리액트 엔진이 JSX를 분석할 때 오류 발생

### JSX와 기존 개발 방법의 차이점

1. App 컴포넌트를 사용하지 않고 화면 구성하기

   ```js
   /* ./src/index.js */
   
   // 필수 리액트 구동 모듈
   import React from 'react';
   import ReactDOM from 'react-dom';
   // 초기 화면 구성하는 사용자 코드
   import './index.css'
   import App from './App';
   import * as serviceWorker from './serviceWorker';
   
   // 리액트 엔진이 화면을 출력하는 코드
   // id가 root인 엘리먼트에 컴포넌트를 출력
   ReactDOM.render(<App />, document.getElementById('root'));
   
   // 아래 부분은 서비스워커 구동 코드로 오프라인 모드 작동 시 도움이 되는 모듈
   // If you want your app to work offline and load faster, you can change
   // unregister() to register() below. Note this comes with some pitfalls.
   // Learn more about service workers: http://bit.ly/CRA-PWA
   serviceWorker.unregister();
   ```

2. 만약 App 컴포넌트를 사용하지 않는다면 index.js 파일을 아래와 같이 수정

   ```js
   // src 폴더 안의 index.js를 연 다음 기존 내용을 모두 지우고 아래의 내용을 작성
   let img = document.createElement('img');
   img.setAttribute('src', '<img src="https://picsum.photos/200/300" />');
   let divEl = document.createElement('div');
   divEl.innerText = '안녕하세요';
   let welcomeEl = document.createElement('div');
   welcomeEl.append(img);
   welcomeEl.append(divEl);
   
   let root = document.getElementById('root');
   root.append(welcomeEl);
   ```

3. App 컴포넌트를 사용해 구현했던 코드보다 복잡하고 비효율적이므로 다시 index.js 파일을 원래대로 돌려 놓음.

   ```js
   import React from 'react';
   import ReactDOM from 'react-dom';
   import App from './App';
   
   ReactDOM.render(<App />, document.getElementById('root'));
   ```

### JSX의 작동 원리

```jsx
...
return ( // 아래의 내용이 JSX가 자바스크립트로 변환된 것
	React.createElement(
    	"div",
        null,
        React.createElement("img", {
            src: "https://picsum.photos/200/300"
        }),
        ,
        null,
        "안녕하세요React.createElement(
        	"div"
        )
    )
);
```

+ 리액트 엔진은 JSX의 XML 구조를 분석하여 위와 같은 자바스크립트 함수 코드로 변환
+ React.createElement() 함수는 리액트 엔진에 포함되어 있으며, 이 함수는 기존 자바스크립트의 document.createElement() 함수를 사용하여 객체 모델을 생성
+ 하지만 리액트를 사용하면 이런 과정들을 일일이 알 필요 없이 JSX로 화면을 빠르게 구성
# 02 Vue.js의 키 컨셉

처음 Vue.js를 사용할 때 의식해야 하는 것은, 화면을 렌더링하는 **구조 자체는 DOM이 아니라 자바스크립트 데이터**라는 것입니다. DOM이 먼저 존재하고, 이것을 읽어 들인 후에 조작하는 것이 아니라 데이터가 먼저 존재하고 이 데이터를 기반으로 적절한 DOM을 구축한다는 것입니다. 

데이터의 상태에 따라 렌더링이 변경되며, 때에 따라서는 자동으로 액션을 일으키기도 합니다. 이처럼 데이터를 중심으로 하는 애플리케이션 설계를 **데이터 지향(Data Driven)** 이라고 부릅니다. 

<br>

## 01_이해하기 쉬운 템플릿

Vue.js는 DOM을 구축하는 방법으로 템플릿이라는 것을 주로 사용합니다. 템플릿 구문은 HTML을 기반으로 하므로,텍스트 에디터와 함께 쉽게 사용할 수 있습니다. 또한 엔지니어와 디자이너가 함께 공동 작업을 하는 것도 쉽습니다. 

템플릿과 로직을 연결할 때는 템플릿 내부에 독자적인 속성으로 '디렉티브'라는 기능을 입력해서 사용합니다. 

```html
<div v-if="show">Hello Vue.js!</div>
```

v-if처럼 처음 보는 이상한 속성을 사용하는 것이 처음에는 이상할 수도 있습니다. 하지만 이는 가상 DOM을 만들기 위한 단순한 템플릿 기법이므로 두려워하지 마세요. 참고로 이러한 속성은 DOM에 반영되기 전에 Vue.js에 의해 컴파일되며, 이후에는 내부적으로만 사용됩니다. 

<br>

### 루트 템플릿

애플리케이션을 화면에 출력하려면 일단 어떤 요소에 배치할지를 결정해야 합니다. 

```html
<body>
    <div id="app"></div><!-- 여기에 배치할 예정입니다. -->
</body>
```

요소의 배치 위치는 body 내부에 있다면 어떤 곳이나 괜찮습니다. 또한, 해당 요소를 선택할 수만 있다면, 어떤 선택자를 사용해도 괜찮습니다. 실습에서는 간단하게 body 바로 아래 배치하고, 선택자는 #app으로 사용하겠습니다. 배치할 요소와 애플리케이션을 연결하는 것을 마운트(mount)라고 부릅니다. 

<br>

## 02_데이터 바인딩

첫 샘플 코드에서도 살펴보았던 것처럼, 데이터와 렌더링을 동기화하는 구조를 데이터 바인딩이라고 부릅니다. 

HTML을 사용해서 만든 UI를 조작할 때 빼놓을 수 없는 것이 view의 상태 관리(DOM 변경과 상태 관리)입니다. 예를 들어, 라이브러리를 하나도 사용하지 않고 자바스크립트로만 특정 요소의 텍스트를 변경하고 싶을 경우에는 다음과 같은 코드를 사용해야 합니다. 

```javascript
var el = document.getElementById('text') // 요소 찾기
el.innerText = '새로운 글자'				  // 요소 변경하기
```

굉장히 간단한 처리처럼 보이지만, UI 패턴이 많아지면 DOM을 변경하는 코드가 굉장히 많은 부분을 차지하게 됩니다. 이는 굉장히 귀찮은 작업입니다. 사람이 작성하는 이상 실수가 발생할 수도 있으며, 이로 인해 버그가 발생하기도 합니다. 

만약 EC 사이트 또는 금융 사이트에 금액 표시가 잘못된다면, 큰 문제가 발생할 것입니다. 

<br>

### DOM 변경을 프레임워크에 맡기기

그래서 데이터 바인딩 형태의 라이브러리와 프레임워크가 주목을 받기 시작했습니다. 데이터 바인딩이란 '자바스크립트 데이터'와 '이를 사용하는 위치'를 연결해서, 데이터에 변경이 있을 때 자동으로 DOM을 업데이터 하는 기능입니다. 

Vue.js도 데이터 바인딩과 관련된 수많은 기능을 가지고 있으며, 디렉티브라는 것을 기반으로 이러한 기능을 HTML과 비슷한 형태로서 쉽게 적용할 수 있습니다. 

<br>

## 03_ 'v-'로 시작하는 디렉티브

지금부터 작성할 Vue.js 템플릿에는 이전에 살펴보았던 v-if 외에도 v-bind나 key 등의 익숙하지 않은 속성이 나옵니다. 이는 모두 특별한 역할을 가지고 있는 속성입니다. 특히 v-로 시작하는 속성은 디렉티브라고 부르며, 주로 데이터 바인딩과 관련된 처리를 실시합니다. 

그리고 중요한 점은 디렉티브의갑싱 **자바스크립트 표현식**이라는 것입니다. 

```html
<div key="id"></div>
<div v-bind:key="id"></div>
```

첫 번째 라인과 두 번째 라인은 모두 key 속성에 id라는 값을 지정하는 예이비다. 하지만 실질적으로 내용이 다릅니다. 

첫 번째 라인의 값은 단순하게 'id'라는 **문자열**을 지정하는 것입니다. 
두 번째 라인은 v-bind:key로 이름이 v-로 시작하는 디렉티브이므로, 값은 'id라는 자바스크립트 변수'를 나타냅니다. 즉, 애플리케이션에 등록되어 있는 데이터 전용 객체의 id라는 **속성**을 나타냅니다. 

반대로 속성 이름이 v-로 시작하지 않으면, 값은 모두 문자열이라고 생각하면 됩니다. 

디렉티브는 옵션으로 매개변수 또는 장식자를 붙일 수 있습니다. 예를 들어 v-bind는 다음과 같이 사용합니다. 

`v-bind` 디렉티브  `:value` 매개변수  `.sync` 장식자  = "message" (값)

이러한 v-bind와 key 같은 독자적인 속성은 이후에 차근차근 설명하겠습니다. 

<br>

## 04_컴포넌트 지향 화면 구축

사이트의 규모가 커지면 자바스크립트, HTML, CSS의 소스 코드가 굉장히 난잡해 집니다. 자바스크립트와 CSS가 어떤 부분에 구현되어 있는지, 어떤 기능이 어떤 HTML과 연결되어 있는지 확인하기 힘들어집니다. 

Vue.js의 **컴포넌트**는 기능별로 자바스크립트와 템플릿을 하나의 세트로 묶어서, 다른 기능과 분리하여 개발할 수 있도록 해 주는 기능입니다. 

컴포넌트의 기본 기능은 HTML과 자바스크립트를 세트로 만들어 주는 것입니다. 하지만 단일 파일 컴포넌트를 사용할 수 있는 환경에서는 HTML과 자바스크립트 이외에도 CSS까지 세트로 만들 수 있습니다. 

이처럼 세트로 만들면 관련 있는 소스 코드들을 쉽게 확인할 수 있습니다. 

극단적으로, 로직과 관계없이 단순하게 HTML 코딩의 효율화를 위해 컴포넌트를 만드는 경우도 있습니다. 

<br>

> **정적 사이트를 만들 때 사용할 수 있는 Vue.js 확장 프레임워크**

+ Nuxt.js
+ VuePress

<br>

### 컴포넌트가 늘어나도 괜찮아요!

컴포넌트는 Vue.js의 굉장히 강력한 기능입니다. 컴포넌트를 조합하면 페이지를 구조화해서 만들 수 있습니다. 다만 컴포넌트를 어느 정도 규모로 분할할지는 개발자의 자유입니다. 컴포넌트가 복잡하게 구조화되었을 경우, 'Vuex'와 'Vue Router'라는 확장 기능을 사용해서 손쉽게 스케일업할 수 있습니다. 

#### 스케일업

+ Vue.js : 부품 만들기
+ Vuex : 부품이 많아짐
+ Vue Router : 여러 개의 페이지 관리하기

<br>

일단 Vue.js의 개발은 물론이고 Nuxt.js와 NativeScript-Vue와 같은 Vue.js를 기반으로 하는 프레임워크를 사용할 때도 필요한, Vue.js 자체의 사용 방법을 살펴보도록 하겠습니다. 

# 06 옵션의 구성 살펴보기

옵션에 사용할 데이터와 메서드를 정의합니다.

<br>

## 01_기본적인 옵션 구성

대표적인 옵션부터 살펴보겠습니다. 지금 당장 이해하지 못해도 괜찮습니다. '대충 이런 형태가 되는구나'라고만 생각해 주세요. 

```javascript
var app = new Vue({
    // 마운트할 요소
    el: '#app', 
    
    // 애플리케이션에서 사용할 데이터
    data: { 
        message: 'Vue.js'
    },
    
    // 산출 속성
    computed: { 
        computedMessage: function() {
            return this.message + '!'
        }
    },
    
    // 라이프 사이클 훅
    created: function() {
    	// 하고 싶은 처리
	}, 
    
    // 애플리케이션에서 사용할 메서드
    methods: {
        myMethod: function() {
            // 하고 싶은 처리
        }
    }
})
```

<br>

## 02_el : 마운트할 요소

el에는 애플리케이션 인스턴스를 적용할 요소를 나타냅니다. 선택자 형태로 지정합니다. 

```javascript
new Vue({
    el: '#app'
})
```

<br>

## 03_data : 데이터

data는 애플리케이션에서 사용할 데이터를 나타냅니다. 객체 또는 배열로 지정하는 것이 일반적입니다. 

```javascript
new Vue({
    el: '#app',
    data: {
        message: 'Vue.js'
    }
})
```

<br>

## 04_computed : 산출 속성

computed는 data와 비슷하게 사용하는 '함수로 인해 산출되는 데이터'라고 볼 수 있습니다. 이 데이터를 '산출 속성'이라고 부릅니다. 

```javascript
new Vue({
    el: '#app',
    computed: {
        computedMessage: function() {
            // 어떤 처리를 해서 결과 리턴하기
            return this.message + '!'
        }
    }
})
```

<br>

## 05_created : 라이프 사이클 훅

라이프 사이클이란 Vue.js의 '기상'과 '취침'까지의 일정한 사이클을 나타낸 것입니다. Vue.js는 이러한 라이프 사이클을 미리 등록해서 적절한 시기에 자동으로 호출합니다. 이러한 시점을 낚아채서(Hook) 우리가 원하는 처리를 할 수 있게 하는 것을 **훅(Hook)**이라고 부릅니다. 

<br>

### 사용할 수 있는 라이프 사이클

created는 라이프 사이클 훅 중 하나입니다. 

Vue 인스턴스가 생성되고, 데이터 감시 등의 리액티브 시스템과 관련된 초기화가 끝났을 때, created 메서드가 자동으로 호출됩니다. 

```javascript
new Vue({
    el: '#app',
    created: function() {
        // 이 인스턴스의 생성과 초기화가 종료되었을 때
        console.log('created')
    }
})
```

data와 methods는 자유롭게 정의할 수 있지만, 라이프 사이클 훅은 사용할 수 있는 메서드가 정해져 있으며, 다음과 같은 시점에 훅할 수 있습니다. 

| 메서드        | 시점                                               |
| ------------- | -------------------------------------------------- |
| beforeCreate  | 인스턴스가 생성되고, 리액티브 초기화가 일어나기 전 |
| created       | 인스턴스가 생성되고, 리액티브 초기화가 일어난 후   |
| beforeMount   | 인스턴스가 마운트되기 전                           |
| mounted       | 인스턴스가 마운트된 후                             |
| beforeUpdate  | 데이터가 변경되어 DOM에 적용되기 전                |
| updated       | 데이터가 변경되어 DOM에 적용된 후                  |
| beforeDestroy | Vue 인스턴스가 제거되기 전                         |
| destroyed     | Vue 인스턴스가 제거된 후                           |
| errorCaptured | 임의의 자식 컴포넌트에서 오류가 발생했을 때        |

라이프 사이클의 흐름을 완전하게 이해할 필요는 없지만, 언제 어떤 시점에서 훅이 호출되는지 알고 싶을 때 참고하면 좋을 것입니다. 

추가적으로 많이 사용되는 created와 mounted는 호출되는 시점이 비슷하지만, 다음과 같은 차이가 있습니다. 

<br>

#### created

created는 인스턴스가 생성되고, 리액티브 데이터가 초기화된 직후에 호출됩니다. 이 라이프 사이클 훅이 호출될 때는 아직 DOM이 구축되지 않은 상태입니다. 따라서 인스턴스 자신을 나타내는 this에는 접근할 수 있지만, $el과 getElementById() 등을 사용한 DOM 접근은 불가능합니다. 

#### mounted

mounted는 인스턴스의 상태를 사용해서 DOM을 만든 직후에 호출됩니다. 따라서 인스턴스 내부 템플릿의 $el과 getElementById()를 사용할 수 있습니다. 다만, 모든 자식 컴포넌트가 마운트되었다는 것은 보증하지 않습니다. 

<br>

## 06_method : 메서드

method는 애플리케이션에서 사용할 메서드입니다. 코드 관리가 쉽도록 처리를 나누거나, 이벤트 번들러 구현 등에 사용합니다. 

```javascript
new Vue({
    el: '#app',
    methods: {
        myMethod: function() {
            // 처리
        }
    }
})
```

<br>

### Vue.js의 라이프 사이클 시점

![이미지](https://kr.vuejs.org/images/lifecycle.png)

<br>

#### 언제 어디서 'new Vue'를 사용하는 것이 좋을까?

Vue 생성자 함수를 사용하면, 인스턴스 여러 개를 생성하고 각각 다른 요소에 마운트해서 페이지 내부에 여러 개의 애플리케이션을 만들 수도 있습니다. 그렇다면 예를 들어 주문 입력 양식 또는 정렬 가능한 리스트 등을 따로 만든느 것이 좋을까요? 

랜딩 페이지처럼 굉장히 작은 규모로 끝나거나 반복 사용(재사용)을 전혀 하지 않는다면, 그렇게 만드는 경우도 있습니다. 

하지만 Vue.js는 '컴포넌트'를 키 컨셉으로 하고 있으며, 이를 위해서 다양한 기능을 제공합니다. 기본적으로는 조작하고 싶은 모든 부분을 포함하고 있는 요소 한 개에만 new Vue()를 적용하고, 이외의 것들을 컴포넌트 UI 부품으로서 하나하나 추가하며 프로그램을 만들어 나갑니다. 

<br>

## 정리

+ vue.js의 경우 DOM 구조 본체는 자바스크립트 데이터로 되어 있습니다. 
+ 디렉티브 값은 자바스크립트 식으로 되어 있습니다. 
+ HTML 코딩을 위해 컴포넌트를 사용하면 좋습니다. 
+ 필요한 데이터와 메서드는 옵션으로 정의합니다. 
+ new Vue()는 한 개만 만들고, 컴포넌트로 UI를 구축합니다. 